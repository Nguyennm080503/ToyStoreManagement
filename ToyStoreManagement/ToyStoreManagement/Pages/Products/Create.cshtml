@page
@model ToyStoreManagement.Pages.Products.CreateModel

@{
    ViewData["Title"] = "Create Product";
}
<head>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
</head>

<div class="row">
	<div class="col-12">
		<div class="my-5">
			<h3>New Product</h3>
			<hr>
		</div>
		<form class="file-upload" method="post">
			<div class="row mb-5 gx-5">
				<div class="col-xxl-8 mb-5 mb-xxl-0">
					<div class="bg-secondary-soft px-4 py-5 rounded">
						<div class="row g-3">
							<h4 class="mb-4 mt-0">Profile detail</h4>
							<div class="col-md-6">
								<label class="form-label">Name *</label>
								<input type="text" class="form-control" placeholder="" aria-label="Name" name="Name" value="" required>
							</div>
							<div class="col-md-6">
								<label class="form-label">Price ($)*</label>
								<input type="number" class="form-control" placeholder="" aria-label="Price" name="Price" value="" required>
							</div>
							<div class="col-md-6">
								<label for="inputEmail4" class="form-label">Stock Quantity *</label>
								<input type="number" class="form-control"  name="StockQuantity" value="" required>
							</div>
							<div class="col-md-6">
								<label class="form-label">Category *</label>
								<select name="CategoryId" aria-controls="CategoryId" class="custom-select form-control ">
									@foreach (var category in Model.Categories)
									{
										<option value="@category.CategoryId">@category.Name</option>
									}
								</select>
							</div>
							<div class="col-md-12">
								<label class="form-label">Description *</label>
								<textarea type="text" class="form-control" placeholder="" aria-label="Description" name="Description" value="" required></textarea>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xxl-4">
					<div class="bg-secondary-soft px-4 py-5 rounded">
						<div class="row g-3">
							<h4 class="mb-4 mt-0">Upload thumbnai</h4>
							<div class="text-center">
								<div class="square position-relative display-2 mb-3">
									<img id="thumbnailImage" src="" alt="Thumbnail" style="width:300px;height:300px;display:none;">
								</div>
								<input type="file" id="customFile" name="Thumbnail" hidden="">
								<label class="btn btn-success-soft btn-block" for="customFile">Upload</label>
								<label class="btn btn-success btn-block" for="customFile">Upload</label>
								<p class="text-muted mt-3 mb-0"><span class="me-1">Note:</span>Minimum size 300px x 300px</p>
							</div>
						</div>
					</div>
				</div>
				</div>
				<div class="gap-3 d-md-flex justify-content-md-end text-center">
					<p style="color:red">@Model.Message</p>
					<button type="submit" class="btn btn-primary btn-lg">Create new product</button>
				</div>
		</form>
	</div>
</div>

<script>
		document.getElementById('customFile').addEventListener('change', function () {
		var file = this.files[0];
		if (file) {
		var reader = new FileReader();
		reader.onload = function (e) {
		var image = document.getElementById('thumbnailImage');
		image.src = e.target.result;
		image.style.display = 'block';
		};
		reader.readAsDataURL(file);
		}
		});
</script>